// Descrições de cada produto
const descricoesProduto = {
  '100g': `
    <h4>Chá de Ginkgo Biloba 100g</h4>
    <p>A Ginkgo Biloba é um chá muito utilizado pelos brasileiros principalmente pela sua função estimulante, auxiliando na concentração, no bem-estar e até mesmo na memória. Também possui benefícios para a boa saúde do coração e na libido. Experimente incluir esse chá na sua rotina!</p>
    <h4>Sugestão de Uso</h4>
    <p>Coloque 1 colher de sopa para 1 xícara de água fervente. Abafe por cerca de 5 a 10 minutos, coe e beba em seguida.</p>
    <h4>Ingredientes</h4>
    <p><strong>Ginkgo Biloba</strong></p>
    <p><strong>CONTÉM GLÚTEN. (Traços)</strong></p>
    <ul>
      <li>Sem Glúten: ✗</li>
      <li>Sem Lactose: ✓</li>
      <li>Sem Açúcar: ✓</li>
      <li>Vegano: ✓</li>
      <li>Orgânico: ✗</li>
    </ul>
    <h4>Outras Informações</h4>
    <p>Deve ser armazenado em local seco, fresco e ao abrigo da luz.</p>
    <p>Gostou do que viu? As fotos deste item foram feitas com muita dedicação pela nossa equipe para mostrar em detalhes a qualidade dos produtos oferecidos por nós.</p>
  `,
  '40mg': `
    <h4>Descrição 40mg</h4>
    <p>O Ginkgo Biloba 40mg da Fórmula Equivalente é um suplemento alimentar que contém o extrato padronizado das folhas da <em>Ginkgo biloba</em>. Esta planta é tradicionalmente utilizada para seus benefícios na circulação sanguínea, especialmente no cérebro, o que pode favorecer a memória, a concentração e outras funções cognitivas. Sua ação antioxidante também contribui para a proteção das células contra os radicais livres. Esta dosagem de 40mg pode ser adequada para quem busca um suporte mais suave ou segue orientação específica.</p>
    <h4>Benefícios e Indicações 40mg</h4>
    <ul>
      <li>Auxilia na melhora da circulação sanguínea, especialmente a nível cerebral.</li>
      <li>Pode contribuir para a melhora da memória e da concentração.</li>
      <li>Possui ação antioxidante, ajudando a proteger as células contra danos.</li>
      <li>Pode auxiliar no bem-estar geral e na função cognitiva.</li>
      <li>Cápsulas de fácil ingestão.</li>
    </ul>
    <h4>Como Age 40mg</h4>
    <p>O Ginkgo Biloba atua principalmente melhorando o fluxo sanguíneo e como antioxidante. Seus componentes ativos, como os ginkgoflavonoides e as lactonas terpênicas (ginkgólides e bilobalídeos), ajudam a promover a vasodilatação, facilitando a circulação sanguínea, inclusive no cérebro. Um melhor fluxo sanguíneo pode aumentar o fornecimento de oxigênio e nutrientes, importantes para a função cerebral. A ação antioxidante do Ginkgo Biloba auxilia na neutralização dos radicais livres, protegendo as células do dano oxidativo.</p>
    <h4>Composição 40mg</h4>
    <p>Extrato seco de Ginkgo Biloba (<em>Ginkgo biloba</em> L.) (padronizado em 24% de ginkgoflavonoides e 6% de lactonas terpênicas), excipiente celulose microcristalina, cápsula vegetal (hipromelose e água purificada).</p>
    <h4>Modo de Usar 40mg</h4>
    <p>Tomar de 1 a 3 cápsulas ao dia.</p>
    <h4>Advertências e Contraindicações 40mg</h4>
    <ul>
      <li>Este produto não deve ser utilizado por pessoas com hipersensibilidade a qualquer componente da fórmula.</li>
      <li>Consulte um médico ou profissional de saúde antes de usar, especialmente se estiver grávida, amamentando, utilizando medicamentos anticoagulantes ou antiplaquetários (como aspirina, varfarina), ou se tiver distúrbios de coagulação.</li>
      <li>Interrompa o uso pelo menos 7 dias antes de qualquer procedimento cirúrgico.</li>
      <li>Não exceder a dose recomendada.</li>
      <li>Mantenha fora do alcance de crianças.</li>
      <li>Conservar em local fresco e seco, ao abrigo da luz e umidade.</li>
    </ul>
  `,
  '80mg': `
    <h4>Descrição 80mg</h4>
    <p>O Ginkgo Biloba 80mg da Fórmula Equivalente é um suplemento alimentar que contém o extrato padronizado das folhas da <em>Ginkgo biloba</em>. Conhecido por suas propriedades que beneficiam a circulação, especialmente no cérebro, o Ginkgo Biloba pode auxiliar na melhora da memória, da concentração e de outras funções cognitivas. Sua ação antioxidante também contribui para a proteção das células contra os radicais livres. A dosagem de 80mg oferece um meio-termo entre as opções de 40mg e 120mg, podendo ser adequada para diversas necessidades.</p>
    <h4>Benefícios e Indicações 80mg</h4>
    <ul>
      <li>Auxilia na melhora da circulação sanguínea, especialmente a nível cerebral.</li>
      <li>Pode contribuir para a melhora da memória e da concentração.</li>
      <li>Possui ação antioxidante, ajudando a proteger as células contra danos.</li>
      <li>Pode auxiliar no bem-estar geral e na função cognitiva.</li>
      <li>Cápsulas de fácil ingestão.</li>
    </ul>
    <h4>Como Age 80mg</h4>
    <p>O Ginkgo Biloba atua principalmente melhorando o fluxo sanguíneo e como antioxidante. Seus componentes ativos, como os ginkgoflavonoides e as lactonas terpênicas (ginkgólides e bilobalídeos), ajudam a promover a vasodilatação, facilitando a circulação sanguínea, inclusive no cérebro e nas extremidades. Um melhor fluxo sanguíneo pode melhorar o fornecimento de oxigênio e nutrientes às células cerebrais, otimizando a função cognitiva. Além disso, os antioxidantes presentes no Ginkgo Biloba ajudam a neutralizar os radicais livres, protegendo as células contra o estresse oxidativo.</p>
    <h4>Composição 80mg</h4>
    <p>Extrato seco de Ginkgo Biloba (<em>Ginkgo biloba</em> L.) (padronizado em 24% de ginkgoflavonoides e 6% de lactonas terpênicas), excipiente celulose microcristalina, cápsula vegetal (hipromelose e água purificada).</p>
    <h4>Modo de Usar 80mg</h4>
    <p>Tomar de 1 a 3 cápsulas ao dia.</p>
    <h4>Advertências e Contraindicações 80mg</h4>
    <ul>
      <li>Este produto não deve ser utilizado por pessoas com hipersensibilidade a qualquer componente da fórmula.</li>
      <li>Consulte um médico ou profissional de saúde antes de usar, especialmente se estiver grávida, amamentando, utilizando medicamentos anticoagulantes ou antiplaquetários (como aspirina, varfarina), ou se tiver distúrbios de coagulação.</li>
      <li>Interrompa o uso pelo menos 7 dias antes de qualquer procedimento cirúrgico.</li>
      <li>Não exceder a dose recomendada.</li>
      <li>Mantenha fora do alcance de crianças.</li>
      <li>Conservar em local fresco e seco, ao abrigo da luz e umidade.</li>
    </ul>
  `,
  '120mg': `
    <h4>Descrição 120mg</h4>
    <p>O Ginkgo Biloba 120mg da Fórmula Equivalente é um suplemento alimentar elaborado com o extrato padronizado das folhas da árvore <em>Ginkgo biloba</em>. Conhecido por suas propriedades medicinais há séculos, o Ginkgo Biloba é utilizado para auxiliar na melhora da circulação sanguínea, especialmente no cérebro, o que pode contribuir para a função cognitiva, memória e concentração. Além disso, possui ação antioxidante, ajudando a proteger as células contra os danos dos radicais livres.</p>
    <h4>Benefícios e Indicações 120mg</h4>
    <ul>
      <li>Auxilia na melhora da memória e da concentração.</li>
      <li>Contribui para a melhora da circulação sanguínea, especialmente cerebral.</li>
      <li>Pode ajudar a aliviar os sintomas de zumbido e vertigem associados a problemas circulatórios.</li>
      <li>Possui ação antioxidante, protegendo as células contra danos.</li>
      <li>Pode auxiliar na melhora da função cognitiva em idosos.</li>
      <li>Cápsulas de fácil ingestão.</li>
    </ul>
    <h4>Como Age 120mg</h4>
    <p>O Ginkgo Biloba age principalmente de duas maneiras: melhorando o fluxo sanguíneo e atuando como antioxidante. Seus componentes ativos, como os flavonoides e os terpenoides (ginkgólides e bilobalídeos), ajudam a dilatar os vasos sanguíneos, facilitando a circulação, especialmente no cérebro e nas extremidades. Isso pode melhorar o fornecimento de oxigênio e nutrientes às células cerebrais, otimizando a função cognitiva. Além disso, os antioxidantes presentes no Ginkgo Biloba ajudam a neutralizar os radicais livres, protegendo as células contra o estresse oxidativo.</p>
    <h4>Composição 120mg</h4>
    <p>Extrato seco de Ginkgo Biloba (<em>Ginkgo biloba</em> L.) (padronizado em 24% de ginkgoflavonoides e 6% de lactonas terpênicas), excipiente celulose microcristalina, cápsula vegetal (hipromelose e água purificada).</p>
    <h4>Modo de Usar 120mg</h4>
    <p>Tomar de 1 a 3 cápsulas ao dia.</p>
    <h4>Advertências e Contraindicações 120mg</h4>
    <ul>
      <li>Este produto não deve ser utilizado por pessoas com hipersensibilidade a qualquer componente da fórmula.</li>
      <li>Consulte um médico ou profissional de saúde antes de usar, especialmente se estiver grávida, amamentando, utilizando medicamentos anticoagulantes ou antiplaquetários (como aspirina, varfarina), ou se tiver distúrbios de coagulação.</li>
      <li>Interrompa o uso pelo menos 7 dias antes de qualquer procedimento cirúrgico.</li>
      <li>Não exceder a dose recomendada.</li>
      <li>Mantenha fora do alcance de crianças.</li>
      <li>Conservar em local fresco e seco, ao abrigo da luz e umidade.</li>
    </ul>
  `
};

let precoAtual = 40.65;
let precoPixAtual = 13.42; // valor inicial do produto 100g no pix

function selecionarKit(nome, preco, imagem, titulo) {
  precoAtual = preco;
  document.getElementById("main-img").src = imagem;
  if (titulo) {
    document.getElementById("product-title").innerText = titulo;
  }
  // Esconde todos os blocos de preço
  document.getElementById('preco-100g').style.display = 'none';
  document.getElementById('preco-40mg').style.display = 'none';
  document.getElementById('preco-80mg').style.display = 'none';
  document.getElementById('preco-120mg').style.display = 'none';
  // Esconde as thumbs do 100g por padrão
  var thumbs100g = document.getElementById('thumbs-100g');
  if (thumbs100g) thumbs100g.style.display = 'none';

  // Mostra o bloco de preço correto e pega o valor do pix
  if (nome === '100g') {
    document.getElementById('preco-100g').style.display = '';
    precoPixAtual = parseFloat(document.querySelector('#preco-100g .preco-grande').textContent.replace('R$', '').replace(',', '.'));
    if (thumbs100g) thumbs100g.style.display = '';
  } else if (nome === '40mg') {
    document.getElementById('preco-40mg').style.display = '';
    precoPixAtual = parseFloat(document.querySelector('#preco-40mg .preco-grande').textContent.replace('R$', '').replace(',', '.'));
  } else if (nome === '80mg') {
    document.getElementById('preco-80mg').style.display = '';
    precoPixAtual = parseFloat(document.querySelector('#preco-80mg .preco-grande').textContent.replace('R$', '').replace(',', '.'));
  } else if (nome === '120mg') {
    document.getElementById('preco-120mg').style.display = '';
    precoPixAtual = parseFloat(document.querySelector('#preco-120mg .preco-grande').textContent.replace('R$', '').replace(',', '.'));
  }
  // Atualiza a descrição do produto
  var descDiv = document.getElementById('descricao-produto');
  if (descDiv && descricoesProduto[nome]) {
    descDiv.innerHTML = descricoesProduto[nome];
  }
  updateTotal();
}

function changeQuantity(change) {
  const quantityInput = document.getElementById("quantity");
  let newValue = parseInt(quantityInput.value) + change;
  
  if (newValue < 1) newValue = 1;
  
  quantityInput.value = newValue;
  
  updateTotal();
}

function updateTotal() {
  const quantity = parseInt(document.getElementById("quantity").value);
  const total = precoPixAtual * quantity;
  document.getElementById("total").innerText = total.toFixed(2);
}

function comprar() {
  const quantity = parseInt(document.getElementById("quantity").value);
  const total = precoAtual * quantity;
  
  alert(`Redirecionando para a página de pagamento...\nTotal: R$ ${total.toFixed(2)}`);
  // window.location.href = "https://seu-link-de-pagamento.com";
}

document.addEventListener('DOMContentLoaded', function() {
  updateTotal();

  let cartCount = 0;
  const cartCountSpan = document.getElementById('cart-count');
  const addToCartBtn = document.getElementById('add-to-cart');
  if (addToCartBtn) {
    addToCartBtn.addEventListener('click', function() {
      cartCount += 1;
      cartCountSpan.textContent = cartCount;
    });
  }

  const cartIcon = document.getElementById('cart-icon-container');
  if (cartIcon) {
    cartIcon.addEventListener('click', function() {
      cartCount = 0;
      cartCountSpan.textContent = cartCount;
    });
  }

  // Exibe a descrição do produto inicial (100g)
  var descDiv = document.getElementById('descricao-produto');
  if (descDiv && descricoesProduto['100g']) {
    descDiv.innerHTML = descricoesProduto['100g'];
  }
});